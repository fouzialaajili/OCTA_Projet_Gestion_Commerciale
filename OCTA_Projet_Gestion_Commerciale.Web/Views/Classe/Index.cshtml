@using Infragistics.Web.Mvc
@model IQueryable<OCTA_Projet_Gestion_Commerciale.Web.ViewModels.CPT_ClasseViewModel>

@{
    ViewBag.Title = "Liste des calsses";
    //Layout = "";
}


<link href="~/Content/Infragistics/css/themes/infragistics/infragistics.theme.css" rel="stylesheet" type="text/css" />
<link href="~/Content/Infragistics/css/structure/infragistics.css" rel="stylesheet" type="text/css" />
<script src="/Scripts/jquery-3.0.0.js" type="text/javascript"></script>
<script src="/Scripts/jquery-3.0.0.min.js" type="text/javascript"></script>

<script src="/Scripts/jquery-ui-1.12.0.js" type="text/javascript"></script>
<script src="~/Scripts/Infragistics/js/infragistics.core.js" type="text/javascript"></script>

<script src="~/Scripts/Infragistics/js/infragistics.lob.js" type="text/javascript"></script>
@*<link href="~/Content/bootstrap.min.css" rel="stylesheet" />*@





<div>
    @(Html.Infragistics()
                                                                     .Grid<OCTA_Projet_Gestion_Commerciale.Web.ViewModels.CPT_ClasseViewModel>(Model)
                                                                     .ID("listGridClasses")
                                                                     .AutoGenerateColumns(false)
                                                                     .AutoGenerateLayouts(false)
                                                                     .RenderCheckboxes(true)
                                                                     .AutoCommit(true)
                                                                     .Columns(column =>
                                                                     {
                                                                         column.For(x => x.Id).Hidden(true);
                                                                         column.For(x => x.CodeClasse).HeaderText("Code").Width("20%").Template("<a href='" + @Url.Action("Create", "Classe") + "/${Id}\' \">${CodeClasse}</a>");/*.FormatterFunction("lookupDevise")*/;
                                                                       
                                                                         column.For(x => x.Libelle).HeaderText("Description").Width("20%");
                                                                         column.For(x => x.IdClasse).Width("20%").HeaderText("identifant classe ");
                                                                         //.FormatterFunction("lookupTenueDeCompte");
                                                                       //  column.For(x => x.DevisesActif).Width("20%").HeaderText("Actif");
                                                                         //.FormatterFunction("lookupActif").HeaderText("Actif");
                                                                         //.FormatterFunction("lookupActif");
                                                                         //column.Unbound("UnBound").Template("<a href='/Devises/Edit/${DevisesId}'>Edit</a>").Width("20%").HeaderText("Edit");

                                                                     })
                                                                     .Features(feature =>
                                                                     {
                                                                         feature.Updating().EnableAddRow(false).EnableDeleteRow(false).EditMode(GridEditMode.None);

                                                                         feature.Filtering().Mode(FilterMode.Simple).Type(OpType.Local);
                                                                         feature.Sorting();
                                                                         feature.Resizing();
                                                                         feature.ColumnMoving();
                                                                         feature.Paging().PageSize(10);

                                                                     })
                                                                     .PrimaryKey("Id")
                                                                     .DataBind()
                                                                     .Width("100%")
                                                                     .Render()
    )

    <script type="text/javascript">
        @*@*var  gridDevises=$('#listGridClasses'),
             listTenueDeCompte=@Html.Raw(Json.Encode(ViewBag.ListTenueDecompte));
        var imglinkSrc='@Url.Content("~/Content/Images/linkIcon.png")';*@



        $(document).ready(function () {
            var messageErreur = "@(new MvcHtmlString((string)ViewBag.Message))";
            if (messageErreur != "") {
                alert(messageErreur);

            }
        });



    </script>
</div>






























@*@model IEnumerable<OCTA_Projet_Gestion_Commerciale.Web.ViewModels.CPT_ClasseViewModel>

@{
    Layout = null;
}

<!DOCTYPE html>

<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <title>Index</title>
</head>
<body>
    <p>
        @Html.ActionLink("Create New", "Create")
    </p>
    <table class="table">
        <tr>
            <th>
                @Html.DisplayNameFor(model => model.CodeClasse)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.Libelle)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.IdClasse)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.IdDossier)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.sys_user)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.Sys_dateUpdate)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.Sys_dateCreation)
            </th>
            <th></th>
        </tr>
    
    @foreach (var item in Model) {
        <tr>
            <td>
                @Html.DisplayFor(modelItem => item.CodeClasse)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Libelle)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.IdClasse)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.IdDossier)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.sys_user)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Sys_dateUpdate)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Sys_dateCreation)
            </td>
            <td>
                @Html.ActionLink("Edit", "Edit", new { id=item.Id }) |
                @Html.ActionLink("Details", "Details", new { id=item.Id }) |
                @Html.ActionLink("Delete", "Delete", new { id=item.Id })
            </td>
        </tr>
    }
    
    </table>
</body>
</html>*@
