@using Infragistics.Web.Mvc
@model IQueryable<OCTA_Projet_Gestion_Commerciale.Web.ViewModels.CPT_NatureOperationViewModel>

@{
    ViewBag.Title = "Liste des Natures operations";
    //Layout = "";
}


<link href="~/Content/Infragistics/css/themes/infragistics/infragistics.theme.css" rel="stylesheet" type="text/css" />
<link href="~/Content/Infragistics/css/structure/infragistics.css" rel="stylesheet" type="text/css" />
<script src="/Scripts/jquery-3.0.0.js" type="text/javascript"></script>
<script src="/Scripts/jquery-3.0.0.min.js" type="text/javascript"></script>

<script src="/Scripts/jquery-ui-1.12.0.js" type="text/javascript"></script>
<script src="~/Scripts/Infragistics/js/infragistics.core.js" type="text/javascript"></script>

<script src="~/Scripts/Infragistics/js/infragistics.lob.js" type="text/javascript"></script>
@*<link href="~/Content/bootstrap.min.css" rel="stylesheet" />*@





<div>
    @(Html.Infragistics()
                                                                     .Grid<OCTA_Projet_Gestion_Commerciale.Web.ViewModels.CPT_NatureOperationViewModel>(Model)
                                                                     .ID("listGridOperationNatures")
                                                                     .AutoGenerateColumns(false)
                                                                     .AutoGenerateLayouts(false)
                                                                     .RenderCheckboxes(true)
                                                                     .AutoCommit(true)
                                                                     .Columns(column =>
                                                                     {
                                                                         column.For(x => x.Id).Hidden(true);
                                                                         column.For(x => x.NatureOperationNom).HeaderText("Nom NatueOperation ").Width("20%").Template("<a href='" + @Url.Action("Create", "CPT_NatureOperation") + "/${Id}\' \">${NatureOperationNom}</a>");/*.FormatterFunction("lookupDevise")*/;

                                                                         column.For(x => x.Sens).Width("20%");
                                                                         column.For(x => x.Montant).Width("20%");
                                                                         column.For(x => x.IsCommission).FormatterFunction("lookupIsCommission");
                                                                         column.For(x => x.GenererReglement).FormatterFunction("lookupGenererReglement");
                                                                         //column.For(x => x.GenererFactureVente).Width("20%").FormatterFunction("lookupGenererFactureVente");
                                                                         //column.For(x => x.GenererFactureAchat).Width("20%").FormatterFunction("lookupGenererFactureAchat");
                                                                         //column.For(x => x.ATraiter).Width("20%").FormatterFunction("lookupATraiter");
                                                                         //column.For(x => x.AutoriseRegroupement).Width("20%").FormatterFunction("lookupAutoriseRegroupement");
                                                                         //column.For(x => x.AvecTier).Width("20%").FormatterFunction("lookupAvecTier");
                                                                         //column.For(x => x.AvecTVA).Width("20%").FormatterFunction("lookupAvecTVA");


                                                                     })
                                                                     .Features(feature =>
                                                                     {
                                                                         feature.Updating().EnableAddRow(false).EnableDeleteRow(false).EditMode(GridEditMode.None);

                                                                         feature.Filtering().Mode(FilterMode.Simple).Type(OpType.Local);
                                                                         feature.Sorting();
                                                                         feature.Resizing();
                                                                         feature.ColumnMoving();
                                                                         feature.Paging().PageSize(10);

                                                                     })
                                                                     .PrimaryKey("Id")
                                                                     .DataBind()
                                                                     .Width("100%")
                                                                     .Render()
    )

    <script type="text/javascript">
        function lookupIsCommission(Id, record) {

            if (record.IsCommission) {

                return 'Oui';

            }
            else {
                return 'Non';

            }
            return '';
        }

        //function lookupAvecTVA(Id, record) {

        //    if (record.AvecTVA) {

        //        return 'Oui';

        //    }
        //    else {
        //        return 'Non';

        //    }
        //    return '';
        //}
        //function lookupAutoriseRegroupement(Id, record) {

        //    if (record.AutoriseRegroupement) {

        //        return 'Oui';

        //    }
        //    else {
        //        return 'Non';

        //    }
        //    return '';
        //}
        //function lookupAvecTier(Id, record) {

        //    if (record.AvecTier) {

        //        return 'Oui';

        //    }
        //    else {
        //        return 'Non';

        //    }
        //    return '';
        //}




        function lookupGenererReglement(Id, record) {

            if (record.GenererReglement) {

                return 'Oui';

            }
            else {
                return 'Non';

            }
            return '';
        }
        //function lookupGenererFactureVente(Id, record) {

        //    if (record.GenererFactureVente) {

        //        return 'Oui';

        //    }
        //    else {
        //        return 'Non';

        //    }
        //    return '';
        //}
        //function lookupGenererFactureAchat(Id, record) {

        //    if (record.GenererFactureAchat) {

        //        return 'Oui';

        //    }
        //    else {
        //        return 'Non';

        //    }
        //    return '';
        //}
        //function lookupATraiter(Id, record) {

        //    if (record.ATraiter) {

        //        return 'Oui';

        //    }
        //    else {
        //        return 'Non';

        //    }
        //    return '';
        //}


        $(document).ready(function () {
            var messageErreur = "@(new MvcHtmlString((string)ViewBag.Message))";
            if (messageErreur != "") {
                alert(messageErreur);

            }
        });



    </script>
</div>













